<!doctype html>
<html>
  <head>
    <title>Build Focus - Settings</title>
    <link href="styles/main.css" rel="stylesheet">
    <link rel="icon" href="/images/icon-32.png">
  </head>
  <body data-bind="template: { afterRender: onPageLoaded }">
    <main class="options" style="display: none" data-bind="visible: true">
      <a href="/main.html">
        <div class="logo">
          <img src="/images/logo.png" />
        </div>
      </a>

      <nav>
        <a href="/main.html" class="home-button">
          Home
        </a>
        <a href="/options.html" class="active settings-button">
          Settings
        </a>
      </nav>

      <h1>Settings</h1>

      <section class="domain-patterns">
        <h3>Distracting sites:</h3>

        <form data-bind="submit: saveEnteredBadDomain">
          <input type="text"
                 data-bind="textInput: enteredBadDomainPattern"
                 placeholder="Distracting site, e.g. facebook.com"/>
          <button type="submit" class="pure-button "
                  data-bind="enable: canSaveEnteredBadDomain()">
            Add Site
          </button>
        </form>

        <ul data-bind="foreach: badDomains">
          <li>
            <i data-bind="click: $parent.deleteBadDomain"
               class="deleteButton fa fa-times"></i>
            <div class="domainName" data-bind="text: $data.toString()"></div>
          </li>
        </ul>
      </section>

      <div class="toggles">
        <section class="bad-tabs-warning-action">
          <h3>Default distracting tab action:</h3>
          <p>
            If you start focusing, and you've already got distracting tabs open in the
            background, what should happen?
          </p>
          <div class="options-toggle">
            <!-- ko foreach: allBadTabsWarningActions -->
            <input name="bad-tabs-warning-options"
                   type="radio"
                   data-bind="attr: { id: 'badTabAction' + id },
                              value: id,
                              checked: $parent.badTabsWarningAction" />
            <label data-bind="attr: { for: 'badTabAction' + id },
                              text: name"></label>
            <!-- /ko -->
            <div class="toggle-highlight"></div>
          </div>
        </section>

        <section class="pause-mode">
          <h3>Autopausing:</h3>
          <p>
            When should your focus session be paused? When your computer is idle for a while,
            when you lock your computer, or never ever?
          </p>
          <div class="options-toggle">
            <!-- ko foreach: autopauseModes -->
            <input name="pause-mode-options"
                   type="radio"
                   data-bind="attr: { id: 'pauseMode' + id },
                              value: id,
                              checked: $parent.autopauseMode" />
            <label data-bind="attr: { for: 'pauseMode' + id },
                              text: name"></label>
            <!-- /ko -->
            <div class="toggle-highlight"></div>
          </div>
        </section>
      </div>
    </main>

    <script src="bower_components/requirejs/require.js"></script>
    <script src="scripts/config/base-config.js"></script>
    <script src="scripts/pages/options-page-binding.js"></script>
  </body>
</html>
